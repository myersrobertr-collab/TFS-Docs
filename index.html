<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#121826">
  <link rel="manifest" href="app.webmanifest">
  <title>TFS Documents</title>

  /* ===========================
   VISUAL REFRESH OVERRIDES
   (paste below your existing styles)
   =========================== */

:root{
  --brand: #37b3e7;         /* crisper brand blue */
  --panel: #121826;
  --text: #eaf0ff;
  --muted:#a9b1c3;

  /* Blue/gray chip base */
  --chip-bg: #11233a;
  --chip-border: #334a70;
  --chip-glow: 0 0 0 6px rgba(55,179,231,.12), 0 0 18px rgba(55,179,231,.16);
  --chip-glow-faint: 0 0 0 4px rgba(55,179,231,.08);

  /* EMER palette (metallic red) */
  --emer-top: #ff5f6b;
  --emer-core: #b1141e;
  --emer-bottom: #2a0a0d;
  --emer-edge: #ffd6d8;
  --emer-border: #ff8086;
}

/* Make all “buttons” ~35% narrower & center text */
button.btn,
a.link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}

button.btn {            /* was 10px 14px */
  padding: 10px 9px;    /* ~35% less horizontal padding */
}

a.link {                /* was 10px 12px */
  padding: 10px 8px;    /* ~35% less horizontal padding */
}

/* Chips narrower too (optional, keeps proportions tidy) */
.chip {                 /* was 8px 12px */
  padding: 8px 8px;
}

/* Higher-contrast blue/gray buttons (non-EMER) */
a.link {
  background:
    linear-gradient(180deg, #2c3f61 0%, #243551 55%, #1a2740 100%);
  border: 1px solid #384f79;
  color: var(--text);
  font-weight: 750;
}
a.link:hover {
  transform: translateY(-1px);
  border-color: #4a689d;
  box-shadow: 0 10px 22px rgba(0,0,0,.28), inset 0 1px 0 rgba(255,255,255,.06);
}

/* Base chip: deeper blue, subtle gloss */
.chip{
  background:
    linear-gradient(180deg, #1f3556 0%, #182b47 58%, #15243c 100%);
  border: 1px solid var(--chip-border);
  color: #eaf0ff;
  font-weight: 700;
  box-shadow: 0 1px 0 rgba(255,255,255,.06) inset,
              0 10px 22px rgba(0,0,0,.28);
}
.chip:hover{ border-color:#4a689d; }
.chip--active{
  border-color:#55c5f0;
  box-shadow: var(--chip-glow), 0 1px 0 rgba(255,255,255,.08) inset;
}

/* ================
   EMER metallic shine
   Apply to EMER chips AND EMER doc buttons.
   - If your app already uses .danger for EMER doc links, this overrides it.
   - You can also add .link--emer to any EMER link.
   ================ */

.chip--emer,
a.link.danger,
a.link.link--emer{
  position: relative;
  overflow: hidden;
  color: #ffecee;
  border: 1px solid var(--emer-border);
  background:
    /* metallic body */
    linear-gradient(180deg, var(--emer-top) 0%, #e0373f 18%, var(--emer-core) 55%, #6e0f16 80%, var(--emer-bottom) 100%),
    /* subtle diagonal sheen */
    linear-gradient(135deg, rgba(255,255,255,.16), rgba(255,255,255,0) 45%),
    /* bottom burnish */
    radial-gradient(120% 80% at 50% 120%, rgba(0,0,0,.35), transparent 60%);
  box-shadow:
    0 0 0 6px rgba(234, 49, 60, .14),
    0 0 18px rgba(234, 49, 60, .20),
    inset 0 1px 0 rgba(255,255,255,.15),
    inset 0 -2px 4px rgba(0,0,0,.25);
  transition: box-shadow .2s ease, transform .06s ease, border-color .2s ease;
}

/* Gloss highlight line (metal edge) */
.chip--emer::after,
a.link.danger::after,
a.link.link--emer::after{
  content:"";
  position:absolute; left:0; right:0; top:0;
  height:1px;
  background: linear-gradient(90deg, transparent, var(--emer-edge), transparent);
  opacity:.85;
  pointer-events:none;
}

/* Soft top gloss panel */
.chip--emer::before,
a.link.danger::before,
a.link.link--emer::before{
  content:"";
  position:absolute; left:-10%; right:-10%; top:-10%;
  height:60%;
  background:
    radial-gradient(120% 80% at 50% -10%, rgba(255,255,255,.32), rgba(255,255,255,0) 70%);
  pointer-events:none;
  mix-blend-mode: screen;
}

.chip--emer:hover,
a.link.danger:hover,
a.link.link--emer:hover{
  transform: translateY(-1px);
  border-color:#ffc2c5;
  box-shadow:
    0 0 0 8px rgba(255, 82, 92, .14),
    0 0 28px rgba(255, 82, 92, .22),
    inset 0 1px 0 rgba(255,255,255,.2),
    inset 0 -3px 6px rgba(0,0,0,.3);
}

/* Keep the toolbar’s Remove button red but flatter (not metallic) */
button.btn.danger,
button.danger{
  background: #3a1215;
  border-color: #6a1e23;
  color: #ffecee;
}

/* Focus visibility (keyboard) */
button.btn:focus-visible,
a.link:focus-visible,
.chip:focus-visible{
  outline: 2px solid #9fe0ff;
  outline-offset: 3px;
  box-shadow: 0 0 0 4px rgba(159,224,255,.25);
}

</head>
<body>
  <div class="app">
    <header>
      <div>
        <div class="title">TFS Documents</div>
        <div class="subtle" id="meta"></div>
      </div>
      <div class="toolbar">
        <button class="btn" id="btnDownload">Download Docs</button>
        <button class="btn danger" id="btnRemove">Remove Docs</button>
      </div>
    </header>

    <!-- Progress bar -->
    <div class="progress-wrap" id="progressWrap" aria-hidden="true">
      <div class="progress"><i id="progressBar" style="width:0%"></i></div>
      <span class="badge" id="progressLabel">0%</span>
    </div>

    <!-- Tag filter chips -->
    <div class="chip-row" id="tagChips" aria-label="Document tag filters"></div>

    <!-- Sections mount -->
    <div id="sections"></div>
  </div>

  <script>
    /* Configure paths/versions here */
    window.APP_VERSION  = window.APP_VERSION  || "2025.A";
    window.MANIFEST_URL = window.MANIFEST_URL || "docs/manifest.json"; /* docs manifest lives under /docs */
    window.CACHE_NAME   = window.CACHE_NAME   || ("tfs-docs-" + window.APP_VERSION);
  </script>
  <script src="app.js" defer></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function () {
        navigator.serviceWorker.register('sw.js').catch(function () {});
      });
    }
  </script>
</body>
</html>
